{"version":3,"file":"js/home.11b8b79b.js","mappings":"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","sources":["webpack://proxy_vue/./src/views/Home.vue?da62","webpack://proxy_vue/./src/components/home/Bg.vue?8052","webpack://proxy_vue/./src/utils/utils.js","webpack://proxy_vue/src/components/home/Bg.vue","webpack://proxy_vue/./src/components/home/Bg.vue?5b2e","webpack://proxy_vue/./src/components/home/Bg.vue","webpack://proxy_vue/src/views/Home.vue","webpack://proxy_vue/./src/views/Home.vue?a806","webpack://proxy_vue/./src/views/Home.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Bg')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg\"},[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * 生成随机数（整数），包含min，包含max\r\n * @param {number} min 最小随机数\r\n * @param {number} max 最大随机数\r\n * @param {number} num 生成多少次 默认1次\r\n * @returns 生成1次返回数字，多次返回数组\r\n */\r\nexport const getRandom = (min, max, num = 1) => {\r\n  if (typeof min != 'number' || typeof max != 'number' || typeof num != 'number') return null;\r\n  if (num > 1) {\r\n    let arr = [];\r\n    for (let i = 0; i < num; i++) {\r\n      arr.push(Math.floor(Math.random() * (max - min + 1) + min));\r\n    }\r\n    return arr;\r\n  } else {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n  }\r\n}","<template>\r\n  <div class=\"bg\">\r\n    <canvas class=\"canvas\" ref=\"canvas\"></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getRandom } from '@/utils/utils'\r\nexport default {\r\n  data() {\r\n    return {\r\n      ctx: null,\r\n      height: 300,\r\n      time: 0,\r\n      index: 0,\r\n      colors: [\r\n        [0, '#814CB6'],\r\n        [0.7, '#4B0082'],\r\n        [0.32, '#191970'],\r\n        [0.42, '#123597'],\r\n        [0.82, '#4169E1'],\r\n        [0.9, '#814CB6'],\r\n        [1, '#814CB6'],\r\n      ],\r\n      stop: 0,\r\n      stopNum: 0.01,\r\n      start: 0,\r\n      offset: 0,// 计算偏移\r\n      palette: [],\r\n      fillRgba: '',\r\n      stars: [],//星星\r\n      starTime: 0, //最新创建时间\r\n      img: null\r\n    }\r\n  },\r\n  mounted() {\r\n    //监听浏览器窗口变化\r\n    this.init();\r\n  },\r\n  beforeDestroy() {\r\n    //移除监听浏览器窗口变化\r\n  },\r\n  methods: {\r\n    init() {\r\n      //初始化\r\n      //取得2d上下文对象(画笔)\r\n      this.setWH();\r\n      this.ctx = this.$refs.canvas.getContext('2d');\r\n      this.palette = this.colorPalette();\r\n      this.img = new Image();\r\n      this.img.src = '/images/silhouette.png';\r\n      this.start = Date.now();\r\n      this.time = Date.now();\r\n      this.offset = Math.floor((Date.now() - this.start) / (3300 / 256)) % 256;\r\n      requestAnimationFrame(this.frame);\r\n      //预先生成30个星星，防止初始化空屏\r\n      for (let i = 0; i < 30; i++) {\r\n        this.stars.push({\r\n          size: getRandom(1, 2),\r\n          // speed: (Math.random() * (0.3 - 0.1) + 0.1),\r\n          speed: 0.1,\r\n          x: getRandom(0, this.$refs.canvas.width),\r\n          y: getRandom(0, this.height),\r\n          alpha: (Math.random() * (0.5 - 0.3) + 0.3).toFixed(2),\r\n        })\r\n      }\r\n    },\r\n    frame() {\r\n      this.setWH();\r\n      this.draw();\r\n      this.createStar();\r\n      this.drawImg();\r\n      requestAnimationFrame(this.frame);\r\n    },\r\n    colorPalette() {\r\n      let grad = this.ctx.createLinearGradient(0, 0, 0, this.height)\r\n      this.colors.forEach((item) => {\r\n        grad.addColorStop(item[0], item[1])\r\n      })\r\n      this.ctx.fillStyle = grad;\r\n      this.ctx.fillRect(0, 0, this.$refs.canvas.width, this.height);\r\n      return this.ctx.getImageData(0, 0, 1, 256).data;\r\n    },\r\n    draw() {\r\n      if ((Date.now() - this.time) % 20 == 0) {\r\n        if (this.stop >= 0.1) this.stopNum = -0.01;\r\n        if (this.stop <= 0.01) this.stopNum = 0.01;\r\n        this.stop += this.stopNum;\r\n      }\r\n\r\n      if ((Date.now() - this.time) >= 1000) {\r\n        this.time = Date.now();\r\n      }\r\n      this.offset = Math.floor((Date.now() - this.start) / (33000 / 256)) % 256;\r\n\r\n\r\n      let grad = this.ctx.createLinearGradient(0, 0, 0, this.height)\r\n      let fill = 'rgba(' + [\r\n        this.palette[this.offset * 4 + 0],\r\n        this.palette[this.offset * 4 + 1],\r\n        this.palette[this.offset * 4 + 2],\r\n        this.palette[this.offset * 4 + 3]\r\n      ] + ')';\r\n      if (fill === 'rgba(0,0,0,0)') {\r\n        fill = this.fillRgba;\r\n        this.palette = this.colorPalette();\r\n      }\r\n      this.ctx.beginPath();\r\n      this.fillRgba = fill;\r\n      grad.addColorStop(0, \"#000\");\r\n      grad.addColorStop(this.stop, \"#000\");\r\n      grad.addColorStop(1, fill)\r\n\r\n      this.ctx.fillStyle = grad;\r\n\r\n      this.ctx.fillRect(0, 0, this.$refs.canvas.width, this.height);\r\n      this.ctx.closePath();\r\n      this.drawStar();\r\n    },\r\n    // 渲染星星\r\n    drawStar() {\r\n      this.stars.forEach((item, i) => {\r\n        if (item.y <= -10) {\r\n          this.stars.splice(i, 1);\r\n        }\r\n        this.ctx.beginPath();\r\n        item.y -= item.speed\r\n        this.ctx.fillStyle = `rgba(255,255,255,${item.alpha})`;\r\n        // this.ctx.shadowColor = `rgba(255,255,255,0.75)`;\r\n        // this.ctx.shadowBlur = 5;\r\n        this.ctx.arc(item.x, item.y, item.size, 0, 2 * Math.PI);\r\n        this.ctx.fill();\r\n        this.ctx.closePath();\r\n      })\r\n    },\r\n    // 创建星星\r\n    createStar() {\r\n      if (Date.now() - this.starTime >= 1000 || this.starTime == 0) {\r\n        this.starTime = Date.now();\r\n        this.stars.push({\r\n          size: getRandom(1, 2),\r\n          // speed: (Math.random() * (0.3 - 0.1) + 0.1),\r\n          speed: 0.1,\r\n          x: getRandom(0, this.$refs.canvas.width),\r\n          y: this.height,\r\n          alpha: (Math.random() * (0.5 - 0.3) + 0.3).toFixed(2),\r\n        });\r\n      }\r\n    },\r\n    drawImg() {\r\n      this.ctx.drawImage(this.img, this.$refs.canvas.width / 2 - 50, this.height - 130, 100, 200);\r\n    },\r\n    //设置canvas宽高\r\n    setWH() {\r\n      this.$refs.canvas.width = window.innerWidth\r\n      this.$refs.canvas.height = this.height\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoper>\r\n.bg {\r\n  // width: 100vw;\r\n  // height: 100vh;\r\n}\r\n\r\n.box {\r\n  width: 100px;\r\n  height: 100px;\r\n  background: rgba(0, 0, 80, 1);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Bg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Bg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bg.vue?vue&type=template&id=6c0ca3eb&\"\nimport script from \"./Bg.vue?vue&type=script&lang=js&\"\nexport * from \"./Bg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Bg.vue?vue&type=style&index=0&lang=scss&scoper=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <!-- <div class=\"home\">\r\n      <div></div>\r\n    </div> -->\r\n    <Bg />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Bg from '@/components/home/Bg'\r\nexport default {\r\n  name: 'Home',\r\n  components: { Bg },\r\n  data() {\r\n    return {\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    this.getToken();\r\n    this.$nextTick(() => {\r\n      this.display = true;\r\n    })\r\n  },\r\n  methods: {\r\n    getToken() {\r\n      let token = this.$store.state.userOptions.token;\r\n      if (token === '') {\r\n        this.$router.push({\r\n          name: 'login'\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.home {\r\n  width: 1200px;\r\n  height: 1200px;\r\n  overflow: hidden;\r\n  margin: 150px auto 0;\r\n\r\n  div {\r\n    width: 100%;\r\n    height: 100%;\r\n    background: inherit;\r\n    box-shadow: inset 0 0 0 1200px rgba(255, 255, 255, 0.65);\r\n    filter: blur(10px);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=6fa170b2&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=6fa170b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fa170b2\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","staticClass","ref","getRandom","min","max","num","arr","i","push","Math","floor","random","data","ctx","height","time","index","colors","stop","stopNum","start","offset","palette","fillRgba","stars","starTime","img","mounted","beforeDestroy","methods","init","requestAnimationFrame","size","speed","x","y","alpha","frame","colorPalette","grad","draw","fill","drawStar","item","createStar","drawImg","setWH","component","name","components","Bg","getToken"],"sourceRoot":""}