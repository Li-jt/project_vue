(self["webpackChunkproxy_vue"]=self["webpackChunkproxy_vue"]||[]).push([[177],{4188:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return k}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("div",{ref:"left",staticClass:"left",on:{click:t.zoom}},[i("Left",{ref:"child",on:{zoom:t.zoom}})],1),i("div",{staticClass:"right"},[i("Bg",{attrs:{leftWidth:t.leftWidth}})],1)])},a=[],h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"canvasw",staticClass:"bg"},[s("canvas",{ref:"canvas",staticClass:"canvas"}),s("img",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"img",attrs:{src:i(6247),alt:""}})])},o=[],n=(i(9653),i(6977),i(1539),i(4747),i(561),i(3290),function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if("number"!=typeof t||"number"!=typeof e||"number"!=typeof i)return null;if(i>1){for(var s=[],a=0;a<i;a++)s.push(Math.floor(Math.random()*(e-t+1)+t));return s}return Math.floor(Math.random()*(e-t+1)+t)}),r={props:{leftWidth:{type:Number,default:0}},data:function(){return{ctx:null,height:300,time:0,index:0,colors:[[0,"#814CB6"],[.7,"#4B0082"],[.32,"#191970"],[.42,"#123597"],[.82,"#4169E1"],[.9,"#814CB6"],[1,"#814CB6"]],stop:0,stopNum:.01,start:0,offset:0,palette:[],fillRgba:"",stars:[],starTime:0,img:null}},mounted:function(){this.init()},beforeDestroy:function(){},methods:{init:function(){this.setWH(),this.ctx=this.$refs.canvas.getContext("2d"),this.palette=this.colorPalette(),this.img=new Image,this.img.src=this.$refs.img.src,this.start=Date.now(),this.time=Date.now(),this.offset=Math.floor((Date.now()-this.start)/(3300/256))%256,requestAnimationFrame(this.frame);for(var t=0;t<30;t++)this.stars.push({size:n(1,2),speed:.1,x:n(0,this.$refs.canvas.width),y:n(0,this.height),alpha:(.2*Math.random()+.3).toFixed(2)})},frame:function(){this.setWH(),this.draw(),this.createStar(),this.drawImg(),requestAnimationFrame(this.frame)},colorPalette:function(){var t=this.ctx.createLinearGradient(0,0,0,this.height);return this.colors.forEach((function(e){t.addColorStop(e[0],e[1])})),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.$refs.canvas.width,this.height),this.ctx.getImageData(0,0,1,256).data},draw:function(){(Date.now()-this.time)%20==0&&(this.stop>=.1&&(this.stopNum=-.01),this.stop<=.01&&(this.stopNum=.01),this.stop+=this.stopNum),Date.now()-this.time>=1e3&&(this.time=Date.now()),this.offset=Math.floor((Date.now()-this.start)/128.90625)%256;var t=this.ctx.createLinearGradient(0,0,0,this.height),e="rgba("+[this.palette[4*this.offset+0],this.palette[4*this.offset+1],this.palette[4*this.offset+2],this.palette[4*this.offset+3]]+")";"rgba(0,0,0,0)"===e&&(e=this.fillRgba,this.palette=this.colorPalette()),this.ctx.beginPath(),this.fillRgba=e,t.addColorStop(0,"#000"),t.addColorStop(this.stop,"#000"),t.addColorStop(1,e),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.$refs.canvas.width,this.height),this.ctx.closePath(),this.drawStar()},drawStar:function(){var t=this;this.stars.forEach((function(e,i){e.y<=-10&&t.stars.splice(i,1),t.ctx.beginPath(),e.y-=e.speed,t.ctx.fillStyle="rgba(255,255,255,".concat(e.alpha,")"),t.ctx.arc(e.x,e.y,e.size,0,2*Math.PI),t.ctx.fill(),t.ctx.closePath()}))},createStar:function(){(Date.now()-this.starTime>=1e3||0==this.starTime)&&(this.starTime=Date.now(),this.stars.push({size:n(1,2),speed:.1,x:n(0,this.$refs.canvas.width),y:this.height,alpha:(.2*Math.random()+.3).toFixed(2)}))},drawImg:function(){this.ctx.drawImage(this.img,this.$refs.canvas.width/2-50,this.height-130,100,200)},setWH:function(){this.$refs.canvas.width=window.innerWidth-this.leftWidth,this.$refs.canvas.height=this.height}}},l=r,f=i(1001),c=(0,f.Z)(l,h,o,!1,null,null,null),d=c.exports,u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"cont"},[i("ul",{staticClass:"list"},t._l(5,(function(e,s){return i("li",{key:e,staticClass:"item",on:{click:function(e){return e.stopPropagation(),t.shwoList(s)}}},[i("div",{staticClass:"show"},[t._m(0,!0),i("span",{style:s==t.index?"transform: rotate("+t.rotateDeg+"deg);":""},[i("svg",{staticClass:"icon",attrs:{width:"10px",height:"10.00",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{fill:"#ccc",d:"M761.6 489.6l-432-435.2c-9.6-9.6-25.6-9.6-35.2 0-9.6 9.6-9.6 25.6 0 35.2l416 416-416 425.6c-9.6 9.6-9.6 25.6 0 35.2s25.6 9.6 35.2 0l432-441.6C771.2 515.2 771.2 499.2 761.6 489.6z"}})])])]),i("transition",{attrs:{"enter-active-class":"collapse","leave-active-class":"collapse"},on:{enter:t.enter,"after-enter":t.afterEnter,leave:t.leave,"after-leave":t.afterLeave}},[i("ul",{directives:[{name:"show",rawName:"v-show",value:s==t.index,expression:"i == index"}]},t._l(5,(function(e){return i("li",{key:e},[t._v("在线记录")])})),0)])],1)})),0)])])},m=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("i",{staticClass:"el-icon-edit"}),i("span",[t._v("在线记录")])])}],g={props:{msg:{type:Number,default:0}},data:function(){return{index:-1,rotateDeg:0}},methods:{shwoList:function(t,e){"home"!==e&&this.$emit("zoom","left"),this.index=this.index==t?-1:t,this.rotateDeg=90},enter:function(t){t.style.height="auto";var e=window.getComputedStyle(t).height;t.style.height="0px",t.offsetHeight,t.style.height=e},afterEnter:function(t){t.style.height=null},leave:function(t){t.style.height=window.getComputedStyle(t).height,t.offsetHeight,t.style.height="0px"},afterLeave:function(t){t.style.height=null}}},p=g,v=(0,f.Z)(p,u,m,!1,null,null,null),w=v.exports,x={name:"Home",components:{Bg:d,Left:w},data:function(){return{leftWidth:300,num:10,s:!0,msg:0,isKeydown:!1,keyCode:-1}},mounted:function(){var t=this;this.getToken(),this.$nextTick((function(){t.leftWidth=t.$refs.left.clientWidth,console.log(t.leftWidth)})),window.addEventListener("keydown",this.keydown)},destroyed:function(){window.removeEventListener("keydown",this.keydown)},methods:{getToken:function(){var t=this.$store.state.userOptions.token;""===t&&this.$router.push({name:"login"})},zoom:function(t){if(!("left"===t&&this.leftWidth>=200)){if(this.leftWidth<=50&&this.s)return this.leftWidth=50,this.s=!1,void this.$refs.child.shwoList(-1,"home");if(this.leftWidth>=200&&!this.s)return this.leftWidth=200,this.s=!0,void(this.isKeydown&&(this.isKeydown=!1,this.$refs.child.shwoList(this.keyCode,"home")));this.s?this.leftWidth-=10:this.leftWidth+=10,setTimeout(this.zoom,10)}},keydown:function(t){this.isKeydown=!0,32===t.keyCode&&(this.keyCode=-1,this.zoom()),49===t.keyCode&&(this.keyCode=0,this.zoom()),console.log(t)}}},y=x,C=(0,f.Z)(y,s,a,!1,null,"7cefae06",null),k=C.exports},3290:function(t,e,i){var s=i(2109),a=i(1285),h=i(1223);s({target:"Array",proto:!0},{fill:a}),h("fill")},6247:function(t,e,i){"use strict";t.exports=i.p+"img/silhouette.513e17f8.png"}}]);
//# sourceMappingURL=home-legacy.43d6002c.js.map